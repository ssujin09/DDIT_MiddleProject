<!DOCTYPE html>
<html class="no-js" lang="zxx">

<head>
<meta charset="utf-8" />
<meta http-equiv="x-ua-compatible" content="ie=edge" />
<title>ë§›ìˆì„ì§€ë„ ğŸ§‘â€ğŸ³</title>
<meta name="description" content="" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="shortcut icon" type="image/x-icon"
	href="../../assets/images/favicon.svg" />
<!-- Place favicon.ico in the root directory -->

<!-- Web Font -->
<link
	href="https://fonts.googleapis.com/css2?family=Jost:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
	rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Lato&display=swap"
	rel="stylesheet">

<!-- ========================= CSS here ========================= -->
<link rel="stylesheet" href="../../assets/css/bootstrap.min.css" />
<link rel="stylesheet" href="../../assets/css/LineIcons.2.0.css" />
<link rel="stylesheet" href="../../assets/css/animate.css" />
<link rel="stylesheet" href="../../assets/css/tiny-slider.css" />
<link rel="stylesheet" href="../../assets/css/glightbox.min.css" />
<link rel="stylesheet" href="../../assets/css/main.css" />

<style>
@import
	url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;500&display=swap')
	;

@font-face {
	font-family: 'GmarketSansMedium';
	src:
		url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_2001@1.1/GmarketSansMedium.woff')
		format('woff');
	font-weight: normal;
	font-style: normal;
}

* {
	font-family: 'GmarketSansMedium';
}
</style>

</head>

<body>
	<!--[if lte IE 9]>
      <p class="browserupgrade">
        You are using an <strong>outdated</strong> browser. Please
        <a href="https://browsehappy.com/">upgrade your browser</a> to improve
        your experience and security.
      </p>
    <![endif]-->

	<!-- Preloader -->
	<div class="preloader">
		<div class="preloader-inner">
			<div class="preloader-icon">
				<span></span> <span></span>
			</div>
		</div>
	</div>
	<!-- /End Preloader -->

	<!-- Start Header Area -->
	<header class="header navbar-area">
		<div class="container">
			<div class="row align-items-center">
				<div class="col-lg-12">
					<div class="nav-inner">
						<nav class="navbar navbar-expand-lg">
							<a class="navbar-brand" href="../../home.do"> <img
								src="../../assets/images/logo/ë§›ìˆì„ì§€ë„ë¡œê³ .png" alt="Logo">
							</a> </a>
							<button class="navbar-toggler mobile-menu-btn" type="button"
								data-bs-toggle="collapse"
								data-bs-target="#navbarSupportedContent"
								aria-controls="navbarSupportedContent" aria-expanded="false"
								aria-label="Toggle navigation">
								<span class="toggler-icon"></span> <span class="toggler-icon"></span>
								<span class="toggler-icon"></span>
							</button>
							<div class="collapse navbar-collapse sub-menu-bar"
								id="navbarSupportedContent">
								<ul id="nav" class="navbar-nav ms-auto">
									<!-- <li class="nav-item"><a class=" dd-menu collapsed"
                              href="javascript:void(0)" data-bs-toggle="collapse"
                              data-bs-target="#submenu-1-1"
                              aria-controls="navbarSupportedContent" aria-expanded="false"
                              aria-label="Toggle navigation">Home</a>
                              </li> -->
									<li class="nav-item"><a class=" dd-menu collapsed"
										href="/TasteMap/cmmnty/list.do">ììœ ê²Œì‹œíŒ ğŸ“‹</a></li>
									<li class="nav-item"><a class=" dd-menu collapsed"
										href="/TasteMap/admin/noticeList.do">ê³µì§€ì‚¬í•­ğŸ“£</a></li>

									<li class="nav-item"><a class=" dd-menu collapsed"
										href="/TasteMap/faq.html">ìì£¼ë¬»ëŠ”ì§ˆë¬¸ â“</a></li>

									<li class="nav-item"><a class=" dd-menu collapsed"
										href="/TasteMap/mypage/setting.do">ë§ˆì´í˜ì´ì§€ &#128064;</a></li>
							</div>
							<!-- navbar collapse -->
							<div class="login-button">
								<ul>
									<li><a href="/TasteMap/views/customer/login.html"><i
											class="lni lni-enter"></i> ë¡œê·¸ì¸</a></li>
									<li><a href="/TasteMap/views/customer/registration.html"><i
											class="lni lni-user"></i>íšŒì›ê°€ì…</a></li>
								</ul>
							</div>
						</nav>
						<!-- navbar -->
					</div>
				</div>
			</div>
			<!-- row -->
		</div>
		<!-- container -->
	</header>
	<!-- End Header Area -->

	<!-- Start Breadcrumbs -->
	<div class="breadcrumbs">
		<div class="container">
			<div class="row align-items-center">
				<div class="col-lg-6 col-md-6 col-12">
					<div class="breadcrumbs-content">
						<h1 class="page-title">íšŒì›ê°€ì…</h1>
					</div>
				</div>
				<div class="col-lg-6 col-md-6 col-12">
					<ul class="breadcrumb-nav">
						<li><a href="../../home.do">í™ˆ</a></li>
						<li>íšŒì›ê°€ì…</li>
					</ul>
				</div>
			</div>
		</div>
	</div>
	<!-- End Breadcrumbs -->

	<!-- start Registration section -->
	<section class="login registration section">
		<div class="container">
			<div class="row">
				<div class="col-lg-6 offset-lg-3 col-md-8 offset-md-2 col-12">
					<div class="form-head">
						<h4 class="title">íšŒì›ê°€ì…</h4>
						<form id="registForm" method="post" onsubmit="valid()">
							<div class="socila-login">
								<ul>
									<li onclick="kakaoJoin()"
										style="text-align: center; cursor: pointer;"><img
										src="../../imgsource/btn/kakao_join.png" style="width: 80%;">
									</li>
								</ul>
							</div>
							<div class="alt-option">
								<span>ë˜ëŠ”</span>
							</div>
							<div class="form-group">
								<label>ì•„ì´ë””</label> <input name="cstmrId" type="text" id="idVal"
									required pattern="/^[a-z]+[a-z0-9]{5,15}$/g"><input
									type="button" id="idChk" value="ì¤‘ë³µí™•ì¸">
								<div id="disp"></div>
							</div>
							<div class="form-group">
								<label>ë¹„ë°€ë²ˆí˜¸</label> <input id="cstmrPw" name="cstmrPw"
									type="password" required
									pattern="(?=.*?[a-z])(?=.*?[A-Z])(?=.*?[0-9])(?=.*?[!@#\$%\^&amp;\*\(\)_\+\|]).{8,20}">
							</div>
							<div class="form-group">
								<label>ë¹„ë°€ë²ˆí˜¸ í™•ì¸</label> <input id="passChk" type="password"
									required
									pattern="(?=.*?[a-z])(?=.*?[A-Z])(?=.*?[0-9])(?=.*?[!@#\$%\^&amp;\*\(\)_\+\|]).{8,20}">
							</div>
							<div id="dispPw"></div>
							<div class="form-group">
								<label>ì´ë¦„</label> <input name="cstmrName" type="text" required
									pattern="[ê°€-í£]{2,8}">
							</div>
							<div class="form-group">
								<label>ìƒë…„ì›”ì¼</label>
								<select id="year">
									<option>ë…„</option>
								</select>ë…„ <select id="month">
									<option>ì›”</option>
								</select>ì›” <select id="day">
									<option>ì¼</option>
								</select>ì¼
								<input type="date" id="cstmrBir" name="cstmrBir" value="" style="display: none">
							</div>
							<div class="form-group">
								<label style="margin-bottom: 10px;">ì„±ë³„</label>
								<select id="gender">
									<option>ì„ íƒí•˜ì„¸ìš”</option>
									<option>ë‚¨</option>
									<option>ì—¬</option>
								</select>
								<input type="text" id="cstmrGender" name="cstmrGender" value="" style="display: none">
							</div>
							<div class="form-group">
								<label>ì „í™”ë²ˆí˜¸</label> <input name="cstmrPhone" type="text">
							</div>
							<div class="form-group">
								<label>ì´ë©”ì¼</label> <input name="cstmrEmail" type="email"
									pattern="^[0-9a-zA-Z]+@[0-9a-zA-Z]+(\.[a-z]+){1,2}"> <input
									type="button" id="sendMail" value="ì¸ì¦">
							</div>
							<div class="form-group">
								<label>ì¸ì¦ë²ˆí˜¸ ì…ë ¥</label> <input name="no" type="text" id="no">
								<input type=button id="mailChk" value="í™•ì¸">
							</div>

							<div class="form-group">
								<label for="add1" class="control-label col-sm-2">ì£¼ì†Œ<span
									class="rq"></span></label>
								<button type="button" id="addrBtn" class="btn btn-info btn-sm">ì£¼ì†Œê²€ìƒ‰</button>
								<div class="col-sm-12">
									<input type="text" class="form-control" id="addr1"
										name="cstmrAddr" required readonly>
								</div>
							</div>
							<div class="form-group">
								<label>ë‹‰ë„¤ì„</label> <input name="cstmrNick" id="cstmrNick"
									type="text" pattern="^(?=.*[a-z0-9ê°€-í£])[a-z0-9ê°€-í£]{2,8}$"
									required> <input type=button id="nickChk" value="ì¤‘ë³µí™•ì¸">
								<div id="dispN"></div>
							</div>
							<div class="form-group">
								<label>í”„ë¡œí•„ì‚¬ì§„</label> 
								    <img src="https://i0.wp.com/adventure.co.kr/wp-content/uploads/2020/09/no-image.jpg" class="image-box" style="width:100px; height: 120px;" />
								    <input id="profileImg" name="profileImg" type="file"
									onchange="fileChk(this)" enctype="multipart/form-data" style="padding-top: 5px; padding-bottom: 5px; vertical-align: middle;">
							</div>
							<div id="joinspan"></div>
							<div id="social" style='display: none;'></div>
							<div class="button">
								<button type="submit" class="btn">íšŒì›ê°€ì…</button>
							</div>
							<p class="outer-link">
								ì´ë¯¸ ê³„ì •ì´ ìˆìœ¼ì‹ ê°€ìš”? <a href="login.html"> ë¡œê·¸ì¸</a>
							</p>
					</form>
				</div>
			</div>
		</div>
		</div>
	</section>
	<!-- End Registration section -->


	<!-- Start Footer Area -->
	<footer class="footer">
		<div class="footer-bottom">
			<div class="container">
				<div class="inner">
					<div class="row">
						<p class="copyright-text" style="font-size: 30px;">
							Designed and Developed by <a href="https://www.ddit.or.kr/"
								rel="nofollow" target="_blank">Team 4 &#x1F4BB;</a>
						</p>
						<div style="color: white;">
							ì›¹ ì‚¬ì´íŠ¸ ì œê³µì: Minsu, Aujin, Sujin, Jieun, Hyeonheum <br> <br>
							<div>
								VAT ë²ˆí˜¸: IE 202310 | ì‚¬ì—…ì ë“±ë¡ ë²ˆí˜¸: IE 202310 | ì—°ë½ì²˜: 042-222-8201 |
								ì›¹ì‚¬ì´íŠ¸ | <a href="https://www.ddit.or.kr/" style="color: white;"
									target="_blank">https://www.ddit.or.kr/</a> | ì„œë¹„ìŠ¤ ì œê³µì—…ì²´: ëŒ€ë•ì¸ì¬ê°œë°œì›
								ì›¹ì„œë¹„ìŠ¤<br> <br> ë§›ìˆì„ì§€ë„ëŠ” í†µì‹ íŒë§¤ ì¤‘ê°œìë¡œ ë§›ì§‘ í”Œë«í¼ì„ í†µí•˜ì—¬ ê±°ë˜ê°€ ì´ë£¨ì–´ì§€ëŠ”
								í†µì‹ íŒë§¤ì˜ ë‹¹ì‚¬ìê°€ ì•„ë‹™ë‹ˆë‹¤.<br> ë§›ì§‘ í”Œë«í¼ì„ í†µí•˜ì—¬ ìŒì‹, ë§›, í‰ê°€, ì˜ˆì•½ ì„œë¹„ìŠ¤ì— ê´€í•œ ì˜ë¬´ì™€
								ì±…ì„ì€ í•´ë‹¹ ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•˜ëŠ” ì ì£¼ì—ê²Œ ìˆìŠµë‹ˆë‹¤.
							</div>
						</div>

						<p class="copyright-text">
							Â© DDIT Corp <a href="https://www.ddit.or.kr/" rel="nofollow"
								target="_blank">Team 4 ğŸ§‘</a>
						</p>
					</div>
				</div>
			</div>
		</div>
	</footer>
	<!--/ End Footer Area -->

	<!-- ========================= scroll-top ========================= -->
	<a href="#" class="scroll-top btn-hover"> <i
		class="lni lni-chevron-up"></i>
	</a>

	<!-- ========================= JS here ========================= -->
	<script src="../../assets/js/bootstrap.min.js"></script>
	<script src="../../assets/js/wow.min.js"></script>
	<script src="../../assets/js/tiny-slider.js"></script>
	<script src="../../assets/js/glightbox.min.js"></script>
	<script src="../../assets/js/main.js"></script>

	<script
		src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
	<script
		src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	<script src="https://developers.kakao.com/sdk/js/kakao.js"></script>
	<script
		src="https://static.nid.naver.com/js/naveridlogin_js_sdk_2.0.2.js"
		charset="utf-8"></script>

	<script>
		let idCheck = false;
		let mailCheck = false;
		let passCheck = false;
		let nickCheck = false;

		$('#idChk').on(
				'click',
				function name() {

					let id = $('#idVal').val();
					let pattern = /^[a-z]+[a-z0-9]{5,15}$/g;
					if (id != null && pattern.test(id)) {
						$.ajax({
							url : 'idCheck.jsp',
							data : {
								id : id
							},
							success : function(rst) {
								if ($('#idVal').val() == null) {
									$('#disp').text('');
								} else {
									if (rst.rst == "ok") {

										$('#disp').text(rst.msg).css('color',
												'limegreen');
										$('#idVal').prop('readOnly', true);
										$('#idChk').prop('disabled', true);
										idCheck = true;

									} else {

										$('#disp').text(rst.msg).css('color',
												'orangered');
									}
								}

							},
							error : function(xhr) {
								alert(xhr.status)
							},
							dataType : 'json'
						});
					} else {
						alert('ì•„ì´ë””ê°€ í˜•ì‹ê³¼ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤! ë‹¤ì‹œ í•œë²ˆ í™•ì¸í•´ ì£¼ì„¸ìš”');
					}

				});
		
		document.getElementById('year').addEventListener('change', updateDateInput);
		document.getElementById('month').addEventListener('change', updateDateInput);
		document.getElementById('day').addEventListener('change', updateDateInput);

		// ì´ë²¤íŠ¸ê°€ ë°œìƒí•  ë•Œ í˜¸ì¶œë  í•¨ìˆ˜
		function updateDateInput() {
		    // ê° select ìš”ì†Œì˜ ì„ íƒëœ ê°’ì„ ê°€ì ¸ì˜´
		    const selectedYear = document.getElementById('year').value;
		    const selectedMonth = document.getElementById('month').value;
		    const selectedDay = document.getElementById('day').value;

		    // ë§Œì•½ ì—°ë„, ì›”, ì¼ì´ ëª¨ë‘ ì„ íƒë˜ì—ˆë‹¤ë©´
		    if (selectedYear !== 'ë…„' && selectedMonth !== 'ì›”' && selectedDay !== 'ì¼') {
		        // ì…ë ¥ ìš”ì†Œì— YYYY-MM-DD í˜•ì‹ìœ¼ë¡œ ê°’ì„ ì„¤ì •
		        document.getElementById('cstmrBir').value = `${selectedYear}-${selectedMonth}-${selectedDay}`;
		    } else {
		        // í•˜ë‚˜ë¼ë„ ì„ íƒë˜ì§€ ì•Šì•˜ë‹¤ë©´ ì…ë ¥ ìš”ì†Œë¥¼ ë¹„ì›€
		        document.getElementById('cstmrBir').value = '';
		    }
		}
		
		document.getElementById('gender').addEventListener('change', updateGenderInput);
		
		function updateGenderInput() {
		    // ê° select ìš”ì†Œì˜ ì„ íƒëœ ê°’ì„ ê°€ì ¸ì˜´
		    const selectedGender = document.getElementById('gender').value;

		    // ë§Œì•½ ì—°ë„, ì›”, ì¼ì´ ëª¨ë‘ ì„ íƒë˜ì—ˆë‹¤ë©´
		    if (selectedGender !== 'ì„ íƒí•˜ì„¸ìš”') {
		        // ì…ë ¥ ìš”ì†Œì— YYYY-MM-DD í˜•ì‹ìœ¼ë¡œ ê°’ì„ ì„¤ì •
		        document.getElementById('cstmrGender').value = `${selectedGender}`;
		    } else {
		        // í•˜ë‚˜ë¼ë„ ì„ íƒë˜ì§€ ì•Šì•˜ë‹¤ë©´ ì…ë ¥ ìš”ì†Œë¥¼ ë¹„ì›€
		        document.getElementById('cstmrGender').value = '';
		    }
		}

		function valid() {

			event.preventDefault();

			let data = new FormData($('#registForm')[0]);
			
			for (const [key, value] of data.entries()) {
				  console.log(`${key}: ${value}`);
				}

			$.ajax({
						method : 'post',
						url : '/TasteMap/regist.do',
						data : data,
						processData : false,
						contentType : false,
						success : function(rst) {

							let result = rst.trim();

							let socialCtg = document.querySelector('#social');
							if (mailCheck && socialCtg.value != null) { // ì†Œì…œí…Œê·¸ ìˆìœ¼ë©´ ì§„í–‰
								socialJoin();
								let conf = confirm("íšŒì›ê°€ì…ì— ì„±ê³µí•˜ì…¨ìŠµë‹ˆë‹¤. ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ì´ë™í•˜ì‹œê² ìŠµë‹ˆê¹Œ?");
								if (conf)
									location.href = "login.html";
								$('#joinspan').text("ê°€ì…ì„±ê³µ").css('color',
										'limegreen');
								$(':input').val(""); // ê°€ì… ì„±ê³µì‹œ ì‘ì„±ëœ ë‚´ìš© ì´ˆê¸°í™”
							} else {
								if (result == "ok"
										&& (idCheck && mailCheck && passCheck && nickCheck)) { // íšŒì›ê°€ì… ì¡°ê±´ ì¶”ê°€ (idCkeck, mailCheck == 1)
									let conf = confirm("íšŒì›ê°€ì…ì— ì„±ê³µí•˜ì…¨ìŠµë‹ˆë‹¤. ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ì´ë™í•˜ì‹œê² ìŠµë‹ˆê¹Œ?");
									if (conf)
										location.href = "login.html";
									$('#joinspan').text("ê°€ì…ì„±ê³µ").css('color',
											'limegreen');
									$(':input').val(""); // ê°€ì… ì„±ê³µì‹œ ì‘ì„±ëœ ë‚´ìš© ì´ˆê¸°í™”
								} else {
									$('#joinspan').text("ê°€ì…ì‹¤íŒ¨").css('color',
											'orangered');
								}
							}

						},
						error : function(xhr) {
							alert(xhr.status);
						}
					});

		}

		$('#passChk').keyup(
				function() {
					let cstmrPass = $('#cstmrPw').val();
					let passChk = $('#passChk').val();

					if (cstmrPass == passChk) {
						passCheck = true;
						$('#dispPw').text("");
					} else {
						passCheck = false;
						$('#dispPw').text("ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ë‹¤ì‹œ í•œë²ˆ í™•ì¸í•´ì£¼ì„¸ìš”.")
								.css('color', 'orangered');
					}
				});

		const fileDOM = document.querySelector('#profileImg');
		const preview = document.querySelector('.image-box');
		$('#profileImg').on('change', function () {
			  const imageSrc = URL.createObjectURL(fileDOM.files[0]);
			  preview.src = imageSrc;
		});

		function fileChk(file) {

			if (!/\.(jpeg|jpg|png|gif|bmp)$/i.test(file.value)) {

				alert('ì´ë¯¸ì§€ íŒŒì¼ë§Œ ì—…ë¡œë“œ ê°€ëŠ¥í•©ë‹ˆë‹¤.');

				file.value = '';

				file.focus();

			}
		}

		$('#addrBtn').click(f_addr);

		function f_addr() {
			new daum.Postcode({
				oncomplete : function(data) {
					// íŒì—…ì—ì„œ ê²€ìƒ‰ê²°ê³¼ í•­ëª©ì„ í´ë¦­í–ˆì„ë•Œ ì‹¤í–‰í•  ì½”ë“œë¥¼ ì‘ì„±í•˜ëŠ” ë¶€ë¶„.

					// ë„ë¡œëª… ì£¼ì†Œì˜ ë…¸ì¶œ ê·œì¹™ì— ë”°ë¼ ì£¼ì†Œë¥¼ í‘œì‹œí•œë‹¤.
					// ë‚´ë ¤ì˜¤ëŠ” ë³€ìˆ˜ê°€ ê°’ì´ ì—†ëŠ” ê²½ìš°ì—” ê³µë°±('')ê°’ì„ ê°€ì§€ë¯€ë¡œ, ì´ë¥¼ ì°¸ê³ í•˜ì—¬ ë¶„ê¸° í•œë‹¤.
					var roadAddr = data.roadAddress; // ë„ë¡œëª… ì£¼ì†Œ ë³€ìˆ˜
					var extraRoadAddr = ''; // ì°¸ê³  í•­ëª© ë³€ìˆ˜

					// ë²•ì •ë™ëª…ì´ ìˆì„ ê²½ìš° ì¶”ê°€í•œë‹¤. (ë²•ì •ë¦¬ëŠ” ì œì™¸)
					// ë²•ì •ë™ì˜ ê²½ìš° ë§ˆì§€ë§‰ ë¬¸ìê°€ "ë™/ë¡œ/ê°€"ë¡œ ëë‚œë‹¤.
					if (data.bname !== '' && /[ë™|ë¡œ|ê°€]$/g.test(data.bname)) {
						extraRoadAddr += data.bname;
					}
					// ê±´ë¬¼ëª…ì´ ìˆê³ , ê³µë™ì£¼íƒì¼ ê²½ìš° ì¶”ê°€í•œë‹¤.
					if (data.buildingName !== '' && data.apartment === 'Y') {
						extraRoadAddr += (extraRoadAddr !== '' ? ', '
								+ data.buildingName : data.buildingName);
					}
					// í‘œì‹œí•  ì°¸ê³ í•­ëª©ì´ ìˆì„ ê²½ìš°, ê´„í˜¸ê¹Œì§€ ì¶”ê°€í•œ ìµœì¢… ë¬¸ìì—´ì„ ë§Œë“ ë‹¤.
					if (extraRoadAddr !== '') {
						extraRoadAddr = ' (' + extraRoadAddr + ')';
					}

					// ìš°í¸ë²ˆí˜¸ì™€ ì£¼ì†Œ ì •ë³´ë¥¼ í•´ë‹¹ í•„ë“œì— ë„£ëŠ”ë‹¤.
					document.getElementById("addr1").value = roadAddr;
					/* document.getElementById("sample4_jibunAddress").value = data.jibunAddress; */

				}
			}).open();
		}

		let key;

		$('#sendMail').click(function() { // ì¸ì¦ ì´ë©”ì¼ ì „ì†¡

			let email = $('input[name="cstmrEmail"]').val();

			if (email != null && email != "") {
				alert("ì¸ì¦ë²ˆí˜¸ë¥¼ ë°œì†¡í–ˆìŠµë‹ˆë‹¤.");
				$.ajax({
					method : 'post',
					url : '/TasteMap/mail.do',
					data : {
						cstmrEmail : email
					},
					success : function(rst) {
						if (rst != null) {
							key = rst;
						} else {
							alert("ì¸ì¦ë²ˆí˜¸ ë°œì†¡ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.");
						}
					},
					error : function(xhr) {
						alert(xhr.status);
					}
				});
			} else {
				alert("ì´ë©”ì¼ì„ ì…ë ¥í•´ì£¼ì„¸ìš”!");
			}

		});

		$('#mailChk').click(function() { // ì¸ì¦ë²ˆí˜¸ ì¼ì¹˜ ì—¬ë¶€ í™•ì¸
			// ì¸ì¦ë²ˆí˜¸ ì¼ì¹˜ì—¬ë¶€ í™•ì¸ í›„ ì…ë ¥ readonlyë¡œ ë³€ê²½
			let ketVal = $('#no').val();

			if (ketVal == key) {
				alert('ì¸ì¦ì— ì„±ê³µí•˜ì˜€ìŠµë‹ˆë‹¤.');
				$('input[name="cstmrEmail"]').prop('readOnly', true);
				$('#no').prop('readOnly', true);
				$('#sendMail').prop('disabled', true);
				$('#mailChk').prop('disabled', true);
				mailCheck = true;
			} else {
				alert('ì¸ì¦ì— ì‹¤íŒ¨í•˜ì˜€ìŠµë‹ˆë‹¤!');
				mailCheck = false;
			}

		});

		$('#nickChk').click(
				function() {

					// ì •ê·œì‹ ì¼ì¹˜í•˜ëŠ”ì§€ ê²€ì‚¬?

					let $cstmrNick = $('#cstmrNick').val();
					let nickTest = /^([a-zA-Z0-9ã„±-ã…|ã…-ã…£|ê°€-í£]).{2,8}$/
							.test($cstmrNick);

					if (!nickTest) {
						alert("í˜•ì‹ì— ë§ì§€ ì•ŠëŠ” ë‹‰ë„¤ì„ ì…ë‹ˆë‹¤. ë‹¤ì‹œ ì…ë ¥í•´ì£¼ì„¸ìš”.");
						$('#cstmrNick').val("");
					} else {
						$.ajax({
							method : 'post',
							url : 'nickCheck.jsp',
							data : {
								nickName : $cstmrNick
							},
							success : function(rst) {
								let result = rst.trim();

								if (result == "ok") {
									$('#dispN').text('ì‚¬ìš© ê°€ëŠ¥í•œ ë‹‰ë„¤ì„ ì…ë‹ˆë‹¤.').css(
											'color', 'limegreen');
									nickCheck = true;
									$('#cstmrNick').prop('readOnly', true);
									$('#nickChk').prop('disabled', true);
								} else {
									$('#dispN').text(
											'ì‚¬ìš© ì¤‘ì¸ ë‹‰ë„¤ì„ ì…ë‹ˆë‹¤. ë‹¤ì‹œ ì…ë ¥í•´ì£¼ì„¸ìš”.').css(
											'color', 'orangered');
									$('#cstmrNick').val("");
									nickCheck = false;
								}

							},
							error : function(xhr) {
								alert(xhr.status);
							}
						});
					}

				});

		Kakao.init('5ccd00174a49121da7c06055801ba062');

		function kakaoJoin() {
			Kakao.Auth
					.login({
						success : function(response) {
							Kakao.API
									.request({
										url : '/v2/user/me',
										success : function(response) {
											let info = response.kakao_account; // ë¡œê·¸ì¸ í•œ ì‚¬ìš©ì ì •ë³´
											let id = response.id; // ë¡œê·¸ì¸ id
											let data;

											if (id != null) {

												document
														.querySelector('.socila-login').style.display = 'none';
												document
														.querySelector('.alt-option').style.display = 'none';

												let gender = info.gender;

												if (gender == 'male') {
													gender = 'ë‚¨';
												} else {
													gender = 'ì—¬';
												}

												let phone = info.phone_number
														.replace('+82 ', '0');

												let data = {
													token : Kakao.Auth
															.getAccessToken(),
													cstmrId : id,
													cstmrName : info.name,
													cstmrPhone : phone,
													cstmrGender : gender,
													birthyear : info.birthyear,
													birthday : info.birthday,
													email : info.email,
													socialCtg : "kakao"
												};

												let bir = data.birthyear
														+ "-"
														+ data.birthday.slice(
																0, 2)
														+ '-'
														+ data.birthday.slice(
																2, 4);
												

												$.ajax({
															method : 'post',
															url : 'socialChk.jsp',
															data : {
																cstmrPhone : data.cstmrPhone
															},
															success : function(
																	rst) {

																let result = rst
																		.trim();

																if (result == "ok") {

																	let conf = confirm("ì´ë¯¸ ê°€ì…ëœ ì•„ì´ë””ê°€ ì¡´ì¬í•©ë‹ˆë‹¤. ë¡œê·¸ì¸ ì°½ìœ¼ë¡œ ì´ë™í•˜ì‹œê² ìŠµë‹ˆê¹Œ?");
																	if (conf)
																		location.href = "/TasteMap/views/customer/login.html";

																} else {

																	let groups = document
																			.querySelectorAll('.form-group');

																	for (let i = 0; i <= 2; i++) {
																		if (i == 0) {
																			groups[0].style.display = 'none';
																		} else {
																			groups[i]
																					.remove();
																		}
																	}

																	document.querySelector('input[name="cstmrId"]').value = data.cstmrId;
																	document.querySelector('input[name="cstmrName"]').value = data.cstmrName;
																	$('#year').val(data.birthyear);
																	$('#month').val(data.birthday.slice(0, 2));
																	$('#day').val(data.birthday.slice(2, 4));
																	document.querySelector('#gender').value = gender;
																	document.querySelector('input[name="cstmrGender"]').value = gender;
																	document.querySelector('input[name="cstmrBir"]').value = bir;
																	document.querySelector('input[name="cstmrPhone"]').value = data.cstmrPhone;
																	document.querySelector('input[name="cstmrEmail"]').value = data.email;
																	document.querySelector('#social').value = data.socialCtg;


																	let inputs = document
																			.querySelectorAll('input');

																	for (let i = 0; i < inputs.length; i++) {
																		if (inputs[i].value != "") {
																			inputs[i].readOnly = true;
																		}
																	}

																}
															},
															error : function(
																	xhr) {
																alert(xhr.status);
															}
														});
											}

										},
										fail : function(error) {
											console.log(error)
										},
									})
						},
						fail : function(error) {
							console.log(error)
						},
					})
		}

		function socialJoin() {

			let cstmrId = document.querySelector('input[name="cstmrId"]').value;
			let socialCtg = document.querySelector('#social').value;

			$.ajax({
				method : 'post',
				url : 'socialJoin.jsp',
				data : {
					cstmrId : cstmrId,
					socialCtg : socialCtg
				},
				success : function(rst) {

				},
				error : function(xhr) {
					alert(xhr.status)
				},
			});

		}
		
		$(document).ready(
			    function () {
			        for (var i = 2021; i > 1920; i--) {
			            $('#year').append('<option value="' + i + '">' + i + '</option>');
			        }
			        for (var i = 1; i < 13; i++) {
			        	 var formattedMonth = ('0' + i).slice(-2);
			             $('#month').append('<option value="' + formattedMonth + '">' + formattedMonth + '</option>');
			        }
			        for (var i = 1; i < 32; i++) {
			            $('#day').append('<option value="' + i + '">' + i + '</option>');
			        }
			    }
			);

		/* let naverLogin = new naver.LoginWithNaverId(
		        {
		            clientId : "UHX4_b3xDvYEMiiamTbB", //ë‚´ ì• í”Œë¦¬ì¼€ì´ì…˜ ì •ë³´ì— cliendIdë¥¼ ì…ë ¥í•´ì¤ë‹ˆë‹¤.
		            callbackUrl : "http://localhost:8888/TasteMap/views/customer/registration.html",
		            isPopup : false,
		            callbackHandle : true
		        });

		naverLogin.init();

		document.querySelector('#naverIdLogin_loginButton').addEventListener('click', function() {

		        naverLogin.getLoginStatus(function(status) {

		        if (status) {

		            let info = naverLogin.user;
		        	
		            let data = $('#registForm').serialize();
		        	
		            $.ajax({
		                method : 'post',
		                url : 'socialChk.jsp',
		                data : data,
		                success : function(rst) {
		                	
		                    if (rst != null) {
		                	
		                    	
		                    } else {
		                    	
		                        if (info.getId() != null) {

		                            document.querySelector('.socila-login').style.display = 'none';
		                            document.querySelector('.alt-option').style.display = 'none';

		                            let data = {
		                                    token : naverLogin.accessToken.accessToken,
		                                    userId : info.getId(),
		                                    userName : info.getName(),
		                                    userPhone : info.getMobile(),
		                                    userGender : info.getGender(),
		                                    birthyear : info.getBirthyear(),
		                                    birthday : info.getBirthday(),
		                                    email : info.getEmail(),
		                                    socialCtg : "naver"
		                                };
		                            	
		                            let bir = data.birthyear + "." +  data.birthday.replace("-",".");
		                        	
		                            let groups = document
		                                    .querySelectorAll('.form-group');

		                            for (let i = 0; i <= 2; i++) {
		                                if (i == 0) {
		                                    groups[0].style.display = 'none';
		                                } else {
		                                    groups[i].remove();
		                                }
		                            }
		                        	
		                        	
		                            document.querySelector('input[name="cstmrId"]').value = data.userId;
		                            document.querySelector('input[name="cstmrName"]').value = data.userName;
		                            document.querySelector('input[name="cstmrBir"]').value = bir;
		                            document.querySelector('input[name="cstmrPhone"]').value = data.userPhone;
		                            document.querySelector('input[name="cstmrEmail"]').value = data.email;

		                            let radios = document.getElementsByName("cstmrGender");

		                            if (data.userGender == 'M') {
		                                radios[0].checked = true;
		                            } else {
		                                radios[1].checked = true;
		                            }
		                            let inputs = document
		                                    .querySelectorAll('input');

		                            for (let i = 0; i < inputs.length; i++) {
		                                if (inputs[i].value != "") {
		                                    inputs[i].readOnly = true;
		                                }
		                            }

		                        }
		                    }
		                },
		                error : function(xhr) {
		                    alert(xhr.status);
		                }
		            });
		        	
		        	

		        } else {
		            console.log(status);
		        }
		    });
		}); */
	</script>
</body>

</html>